if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!window.console){console={log:function(){}}}(function(a){a.fn.DataFilter=function(v,ah){var aO=a.extend({enableFreeTextSearch:false,scrollToEnabled:false,useShowResultsButton:false,useApplyButton:false,pageSize:-1,dataElements:{},sortingDropDown:undefined,defaultTableSort:undefined,slidersEnabled:true,multiSelectLabel:"Select to add",itemsLabel:"items",itemLabel:"item",extractTextFn:function(aX){return aX.text()},onSuccess:function(){},afterFilter:function(){}},ah);var aW={element:a(this),elementId:a(this).attr("id"),elementType:a(this).prop("tagName"),elementIds:{},filtersInitialised:false,initialised:false,sort:{},paging:{currentPage:1,itemsPerPage:-1,defaultItemsPerPage:Number.MAX_VALUE,totalItems:0,numMatchedItems:0},wrapper:a(document.createElement("div")).attr("class","filterWrapper")};methods={init:function(){if(aZ()){Z();aO.onSuccess();return this}else{console.log("Invalid use of DataFilter - check above log messages")}function aZ(){var a0=true;if(a("#filters").length==0){a0=aX("No element with id 'filters'")}if(a(".paginationHolder").length==0){aY("No .paginationHolder class elements for paging - paging will be disabled");aO.pageSize=-1}return a0}function aX(a0){console.log(a0);return false}function aY(a0){console.log(a0)}}};function Z(){if(aO.sortingDropDown!=undefined){n(aO.sortingDropDown)}if(aO.enableFreeTextSearch){W()}a.each(aO.dataElements,function(aY,aX){if(aW.elementIds[aX.id]){console.log("Duplicate id ["+aX.id+"] - can only create single filter by ID - all but first being ignored")}else{aW.elementIds[aX.id]=aX.id;aK(aY,aX)}});aE();u();z(aO.pageSize)}function aE(){a("#filters").empty();a("#filters").append(aW.wrapper)}function u(){if(aW.elementType=="TABLE"){I()}if(aO.sortingDropDown!=undefined){O(aO.sortingDropDown)}}function aK(a0,aY){aW.filtersInitialised=false;sortFn=y[aY.dataType];aW.sort[aY.id]=sortFn;factoryFn=ad[aY.filterType];if(a0&&factoryFn){var aX=aY.items;if(aX==undefined){var aZ=V[aW.elementType].getAllDataForGivenIdFn(aY.id);aX=K(aZ,sortFn)}if(aX.length>0){Q(aY.id,a0,factoryFn,aX)}else{console.log("No items found for id '"+aY.id+"' so '"+a0+"' not added as a filter")}}}function z(aY){aW.filtersInitialised=true;aW.paging.defaultItemsPerPage=aY;f(1,aY);if(aO.useApplyButton){R("Apply Filters",t)}else{if(aO.useShowResultsButton){R("Show Results",k)}}if(aO.defaultTableSort){var aX=a("#"+aW.elementId+" thead th:nth-child("+aO.defaultTableSort.id+")");aX.click();if(aO.defaultTableSort.direction&&aO.defaultTableSort.direction=="-1"){aX.click()}}aW.initialised=true}function R(aZ,aY){var aX=a(document.createElement("button")).attr({type:"button","class":"btn-style"}).click(function(){aY()}).text(aZ);aW.wrapper.append(a(document.createElement("div")).append(aX))}function K(aZ,aY){var aX=[];aZ.each(function(){var a0=aO.extractTextFn(a(this)).trim();if(a0.length>0&&a.inArray(a0,aX)<0){aX.push(a0)}});compare.sortItems(aX,aY);return aX}function b(){return a("#"+aW.elementId+" tbody tr")}function aP(){return a("ul#"+aW.elementId+">li")}function ak(aX){return a("#"+aW.elementId+" tbody tr td:nth-child("+aX+")")}function A(aX){return a("ul#"+aW.elementId+">li ."+aX)}function q(aY,aX){return aO.extractTextFn(a(aY).children("td").eq(aX))}function ab(aY,aX){return aO.extractTextFn(a(aY).find("."+aX))}function f(aX,aY){if(aX){aW.paging.currentPage=aX}if(aW.paging.currentPage<=0){aW.paging.currentPage=1}if(aY){aW.paging.itemsPerPage=parseInt(aY)}if(aW.paging.itemsPerPage<=0){aW.paging.itemsPerPage=Number.MAX_VALUE}t()}function aB(){if(!aO.useApplyButton){J()}}function J(){aW.paging.currentPage=1;t()}function t(){if(!aW.filtersInitialised){return}var aX={};a('#filters [data-role="filterSetSelector"]').each(function(){var aZ=this.id.split("_")[0];var aY=this.id.split("_")[1];switch(aZ){case"Select":ar(aX,aY,X(this.id));break;case"MultiSelect":ar(aX,aY,h(this.id));break;case"Checkboxes":ar(aX,aY,aR(this.id));break;case"CheckboxesRange":au(aX,aY);break;case"Max":ar(aX,aY,w(this.id));break;case"Min":ar(aX,aY,aF(this.id));break}});aJ(r,aX);aC();ag();aO.afterFilter()}function ag(){if((aO.useApplyButton&&aW.initialised)||(utils.exists("#scrollTo")&&aO.scrollToEnabled&&aW.initialised)){k()}}function k(){if(utils.exists(a("#scrollTo"))){a("html, body").animate({scrollTop:a("#scrollTo").offset().top},1000)}}function al(){if(utils.exists(a("#scrollTo"))){k()}else{if(utils.exists(a(".paginationHolder").eq(0))){if(a(window).scrollTop()>a(".paginationHolder").eq(0).offset().top){a("html, body").scrollTop(a(".paginationHolder").eq(0).offset().top)}}}}function ar(aZ,aY,aX){if(aZ[aY]){aZ[aY].push(aX)}else{aZ[aY]=[aX]}}function aJ(a0,aY){var aX=0;aW.paging.totalItems=0;aW.paging.numMatchedItems=0;var aZ=V[aW.elementType].getAllDataFn();var a1=utils.now();aZ.each(function(){var a2=a0(this,aY);aW.paging.totalItems++;if(a2){if(az(aX)){a(this).show();aX++}else{a(this).hide()}aW.paging.numMatchedItems++}else{a(this).hide()}});setTimeout(function(){N(aZ)},0)}function N(aX){aX.each(function(){if(a(this).css("display")!="none"){a(this).hide().show()}})}function az(aX){return aW.paging.numMatchedItems>=(aW.paging.currentPage-1)*aW.paging.itemsPerPage&&aX<aW.paging.itemsPerPage}function r(a0,aZ,aY){var aX=true;a.each(aZ,function(a1,a2){if(aW.elementType=="TABLE"){a1=parseInt(a1)-1}a.each(a2,function(a3){if(aX){aX=E(a0,a1,a2[a3])}});if(!aX){return false}});if(aO.enableFreeTextSearch&&a("#freeTextSearch").val().trim()!=""&&aX){aX=Y(a(a0).text().replace(/(\r\n|\n|\r)/gm,""),ax(a("#freeTextSearch").val().trim()))}return aX}function ax(aZ){var aX="";var aY=aZ.split(" ");for(i=0;i<aY.length;i++){aX+="(?=.*"+aY[i]+")"}return aX}function E(a0,aX,aZ){var aY=V[aW.elementType].extractTextFn(a0,aX);if(utils.startsWith(aZ,"--MAX--")||utils.startsWith(aZ,"--MIN--")){return aw(aX,aY,aZ)}else{if(utils.startsWith(aZ,"--RANGE--")){return d(aX,aY,aZ)}else{return Y(aY,aZ)}}}function Y(aY,aX){return aY.search(new RegExp(aX,"i"))>-1}function d(aY,a0,aX){var a1=false;var aZ=aX.split("--RANGE--_");for(i=0;i<aZ.length;i++){if(aZ[i].trim().length>0){a1=a1||aS(aY,a0,aZ[i])}}return a1}function aS(a0,a1,aZ){aZ=utils.replaceAll(aZ,"Up to ","Free-");var aY=aZ.split("-");if(aY.length==1){aY[1]=aY[0]}var a2=aT(a0);var aX=a2(aY[0],a1,-1)>=0&&a2(aY[1],a1,1)>=0;return aX}function aw(aY,a1,a0){var aZ=a0.split("_")[1];var a3=aT(aY);var a2=utils.contains(a0,"--MAX--_")?1:-1;var aX=utils.contains(aZ,"No M")?true:a3(aZ,a1,a2)>=0;return aX}function aj(aX){return[w("Max_"+aX),aF("Min_"+aX)]}function w(aX){return ay(aX,"--MAX--_")}function aF(aX){return ay(aX,"--MIN--_")}function ay(aY,aX){return aX+a("select#"+aY+">option:selected").val()}function X(aX){return a("select#"+aX+" option:selected").prop("value")}function h(aY){var aX="";aY=aY.split("_")[1];a("#MultiSelectItems_"+aY+" p").each(function(){aX+=aI(aX,a(this).text())});return aX}function aR(aY){var aX="";a("ul#"+aY+" li input[type=checkbox]").each(function(){if(a(this).prop("checked")&&a(this).prop("name")!="All"){aX+=aI(aX,a(this).prop("name"))}});return aX}function au(aZ,aX){var aY="";a("ul#CheckboxesRange_"+aX+" li input[type=checkbox]").each(function(){if(a(this).prop("checked")&&a(this).prop("name")!="All"){aY+="--RANGE--_"+a(this).parent().text()}});ar(aZ,aX,aY)}function aI(aX,aZ){var aY=l(aZ);return(aX==""?aY:"|"+aY)}function l(aX){return(utils.startsWith(aX,"~"))?aX.substring(1):L(aX)}function L(aX){return"\\b"+utils.extractCurrencyValue(aX)+"\\b"}function Q(aY,a0,aZ,aX){aQ(a0,aZ(aX,aY))}function aQ(aZ,aY){var aX=a(document.createElement("div")).attr({"class":"filterSet"});aX.append(a(document.createElement("a")).attr({"class":"filterSelect"}).text(aZ));aX.append(aM(aY));aW.wrapper.append(aX)}function aM(aY,aX){return aY.attr({id:aX,"class":"filterContent"})}function W(){aQ("Search",a("<div>").append(a("<input/>").attr({type:"text",id:"freeTextSearch"}).keyup(function(){J()})))}function aA(aX,aY){return av(B(aX),aY)}function af(aX,aZ){var aY=aL(B(aX));return U(aY,aZ)}function M(aX,aZ){var aY=B(aX);var a2=[];for(i=0;i<aY.length;i++){if(i==0){if(aY[i]=="Free"){a2.push(aY[i])}}else{a2.push(aY[i-1]+"-"+aY[i])}}var a1=utils.now();var a0=ap(aZ,aX,a2);return aq(a0,aZ,"Range")}function aL(aX){if(aX.length>1){aX.pop()}return aX}function ap(aZ,aY,a1){var a0=[];var aX=a1[0];for(i=0;i<a1.length;i++){if(aa(aZ,a1[i],aY)==-1){if(i<a1.length-1){aX=aX.split("-")[0]+"-"+a1[i+1].split("-")[1]}}else{if(utils.startsWith(aX,"Free-")){aX=aX.replace("Free-","Up to ")}a0.push(aX);if(i<a1.length-1){aX=a1[i+1]}}}return a0}function aa(aZ,aY,aX){if(aW.elementType=="TABLE"){aZ=parseInt(aZ)-1}for(j=0;j<aX.length;j++){if(aS(aZ,aX[j],aY)){return j}}return -1}function B(a0){var aY=utils.extractCurrencyValue(a0[0]);var a4=utils.extractCurrencyValue(a0[a0.length-1]);var aZ=parseInt(a4)-parseInt(aY);var a2=10;if(aZ>350){a2=100}else{if(aZ>175){a2=50}else{if(aZ>75){a2=25}else{if(aZ>60){a2=20}}}}var aX=parseInt(aZ/a2)+1;var a3=(aY-(aY%a2))+a2;if((aX-1)*a2+a3<a4){aX++}var a1=[];if(aY==0){a1.push("Free");a3=a3+a2}for(i=0;i<aX;i++){a1.push("£"+(a3+i*a2))}return a1}function e(aX,a0){var aY=a(document.createElement("ul")).attr({id:"MaxMin_"+a0,"class":"MaxMin"});aY.append(H(ao(a0,"Min","From: ").addClass("forSlider"),am(aX,a0,"Min",at("Min",a0)).addClass("forSlider")));aY.append(H(ao(a0,"Max","Up to: ").addClass("forSlider"),am(aX,a0,"Max",at("Max",a0)).addClass("forSlider")));var aZ=a(document.createElement("div"));aV(aZ,aX,a0,"MaxMin");aZ.append(aY);return aZ}function H(aY,aX){return a(document.createElement("li")).append(aY).append(aX)}function av(aX,aY){return ai(aX,aY,"Max","Up to: ")}function U(aX,aY){return ai(aX,aY,"Min","From: ")}function ai(aY,a1,aZ,aX){var a0=a(document.createElement("div"));aV(a0,aY,a1,aZ);a0.append(ao(a1,aZ,aX).addClass("forSlider"));a0.append(am(aY,a1,aZ,at(aZ,a1)).addClass("forSlider"));return a0}function at(aY,aZ){return function aX(a0){aG(aZ,a0.value);aU(aY+"_"+aZ,a0.selectedIndex)}}function D(aX,a0){function aY(a1){if(a1.value!=aO.multiSelectLabel){var a2="#MultiSelectItems_"+a0;a(a2).append(a(document.createElement("p")).text(a1.value).prop("class",a1.selectedIndex).click(function(){var a3=a(this).text();a(a1).append(a(document.createElement("option")).prop("value",a3).text(a3));C(a(a1));a(this).remove();aB()}));a(a1).find("option:selected").remove()}}var aZ=a(document.createElement("div"));aZ.append(ao(a0,"MultiSelect",""));aZ.append(am(aX,a0,"MultiSelect",aY));aZ.append(a(document.createElement("div")).attr({id:"MultiSelectItems_"+a0,"class":"multiSelect"}));return aZ}function ac(aX){if(aW[aX.prop("id")]==undefined){aW[aX.prop("id")]=aX.width()}return aW[aX.prop("id")]}function C(aX){var aY=aX.val();aX.html(a("option",aX).sort(function(a0,aZ){if(a0.text==aO.multiSelectLabel){return -1}if(aZ.text==aO.multiSelectLabel){return 1}return a0.text==aZ.text?0:a0.text<aZ.text?-1:1}));aX.val(aY)}function m(aX,aZ){var aY=a(document.createElement("div"));aY.append(ao(aZ,"Select",""));aY.append(am(aX,aZ,"Select"));return aY}function am(aY,a1,a0,aZ){if(a0==undefined){a0="Select"}a1=a0+"_"+a1;var aX=a(document.createElement("select")).attr({id:a1,"data-role":"filterSetSelector"});if(a0=="Min"){aX.append(a(document.createElement("option")).text("No Min"))}if(a0=="Select"){aX.append(a(document.createElement("option")).text("All").prop("value",""))}if(a0=="MultiSelect"){aX.append(a(document.createElement("option")).text(aO.multiSelectLabel).prop("value",""))}a.each(aY,function(a3,a2){aX.append(a(document.createElement("option")).prop("value",a2).text(a2))});aX.change(function(a2){if(aZ){aZ(this)}aB()});if(a0=="Max"){aX.append(a(document.createElement("option")).attr({selected:true}).text("No Max"))}return aX}function ao(aZ,aY,aX){return a(document.createElement("label")).attr({id:"selectLabel_"+aY+"_"+aZ,"class":"selectLabel"}).text(aX)}function aV(a3,aX,a2,aZ){if(!aO.slidersEnabled){return a3}a2=aZ+"_"+a2;var aY=(aZ=="MaxMin")?2:1;var a1=a(document.createElement("div")).attr({id:"slider_"+a2,"class":"noUiSlider"});a1.noUiSlider("init",{handles:aY,scale:[0,aX.length],start:[0,aX.length],change:function(){var a4=a(this).noUiSlider("value");G(a2,a4);aG(a2,P(a2,a4))},end:function(){aB()}});var a0=a(document.createElement("div")).attr({id:"sliderLabel_"+a2,"class":"noUiSliderLabel"}).text("-");a3.append(a0);a3.append(a1);if(aZ=="Min"){setTimeout(function(){aU(a2,0)},0)}if(aZ=="Max"){setTimeout(function(){aU(a2,aX.length)},0)}if(aZ=="MaxMin"){setTimeout(function(){aU(a2,aX.length)},0)}return a3}function G(aY,aX){if(utils.contains(aY,"MaxMin")){aY=aY.split("_")[1];a("select#Min_"+aY+" option:eq("+aX[0]+")").attr("selected","selected");a("select#Max_"+aY+" option:eq("+aX[1]+")").attr("selected","selected")}else{a("select#"+aY+" option:eq("+aX[1]+")").attr("selected","selected")}}function P(a1,aX){if(utils.contains(a1,"MaxMin")){a1=a1.split("_")[1];var a0=a("select#Min_"+a1+" option:eq("+aX[0]+")").text().trim();var aZ=a("select#Max_"+a1+" option:eq("+aX[1]+")").text().trim();return F(a0,aZ)}else{var aY=a("select#"+a1+" option:eq("+aX[1]+")").text();var a0=(utils.contains(a1,"Max"))?"No Min":aY;var aZ=(utils.contains(a1,"Min"))?"No Max":aY;return F(a0,aZ)}}function F(aY,aX){if(aY=="No Min"&&aX=="No Max"){return"Show All"}else{if(aX=="No Max"){return"From "+aY}else{if(aY=="No Min"){return"Up to "+aX}else{return aY+" to "+aX}}}}function aG(aY,aX){if(utils.exists("#sliderLabel_"+aY)){a("#sliderLabel_"+aY).text(aX)}}function aU(aZ,aY){if(utils.exists("#slider_"+aZ)){var aX=(utils.contains(aZ,"MaxMin"))?"1":"0";a("#slider_"+aZ).noUiSlider("move",{knob:aX,to:aY,surpressChange:true})}else{var aX=(utils.contains(aZ,"Max"))?"1":"0";aZ=aZ.split("_")[1];if(utils.exists("#slider_MaxMin_"+aZ)){a("#slider_MaxMin_"+aZ).noUiSlider("move",{knob:aX,to:aY,surpressChange:true})}}}function aq(aX,aY,a0){var a1=(a0)?"Checkboxes"+a0+"_"+aY:"Checkboxes_"+aY;var aZ=a(document.createElement("ul")).attr({id:a1,"data-role":"filterSetSelector"});aZ.append(aD("All",aY,true,function(){a.each(a("ul#"+a1+' input[type="checkbox"]'),function(a2,a3){T(a1,true);if(a2>0){a(a3).prop("checked",false)}aB()})}));a.each(aX,function(a3,a2){aZ.append(aD(a2,a1,false,function(a4){T(a1,false);aB()}))});return aZ}function T(aY,aX){a("ul#"+aY+' input[type="checkbox"]').eq(0).prop("checked",aX)}function aD(aZ,aX,aY,a0){return a(document.createElement("li")).attr({"class":"checkboxLi"}).append(p(aZ).prepend(an(aZ,aX,aY,a0)))}function an(aZ,aX,aY,a0){return a(document.createElement("input")).attr({id:aX+"_"+aZ,"class":"filterCheckbox",name:aZ,value:aZ,type:"checkbox",checked:aY}).click(a0)}function p(aX){aX=utils.startsWith(aX,"~")?aX.substring(1):aX;return a(document.createElement("label")).text(aX)}function aC(){a(".paginationHolder").each(function(){a(this).empty().append(c())})}function c(){var aX=S();if(aO.pageSize>0&&aW.paging.numMatchedItems>aW.paging.itemsPerPage){aN(aX)}if(aO.pageSize>0){aH(aX)}return aX}function S(){var a0=((aW.paging.currentPage-1)*aW.paging.itemsPerPage)+1;var aZ=((aW.paging.currentPage)*aW.paging.itemsPerPage);if(aZ>aW.paging.numMatchedItems){aZ=aW.paging.numMatchedItems}var aX=a(document.createElement("ul")).attr({"class":"pagination"});var aY="Showing ";if(aO.pageSize>0){aY+=a0+" - "+aZ+" of "}aY+=aW.paging.numMatchedItems+" "+((aW.paging.numMatchedItems==1)?aO.itemLabel:aO.itemsLabel);if(aW.paging.numMatchedItems<aW.paging.totalItems){aY+="<span class='totalItems'> (filtered from "+aW.paging.totalItems+")</span>"}return aX.append(a(document.createElement("li")).attr({"class":"showing"}).html(aY))}function aH(aX){if(aW.paging.numMatchedItems>aW.paging.itemsPerPage){s(aX,"Show All",1,-1)}else{if(aW.paging.defaultItemsPerPage>0&&aW.paging.itemsPerPage>aW.paging.defaultItemsPerPage){s(aX,"First Page",1,aW.paging.defaultItemsPerPage)}}}function aN(aZ){var aY=parseInt((aW.paging.numMatchedItems/aW.paging.itemsPerPage)+((aW.paging.numMatchedItems%aW.paging.itemsPerPage>0)?1:0));var a1=(aW.paging.currentPage>1)?aW.paging.currentPage-1:1;var a0=(aW.paging.currentPage<aY)?aW.paging.currentPage+1:aY;if(a0>aY){a0=aY}g(aZ,"&laquo;","Skip to first page",1);g(aZ,"&lsaquo;","Skip to previous page",a1);for(i=1;i<=aY;i++){var aX=a(document.createElement("li")).addClass("pageNumber");if(i==aW.paging.currentPage){aX.addClass("active")}aZ.append(aX.append(a(document.createElement("a")).text(i).click(function(a2){f(a(this).text());al()})))}g(aZ,"&rsaquo;","Skip to next page",a0);g(aZ,"&raquo;","Skip to last page",aY)}function s(aY,a0,aZ,aX){aY.append(a(document.createElement("li")).append(a(document.createElement("a")).addClass("pagingShow").text(a0).click(function(a1){f(aZ,aX);al()})))}function g(aY,a0,aX,aZ){aY.append(a(document.createElement("li")).prop("class","pageNumber").append(a(document.createElement("a")).click(function(a1){f(aZ);al()}).html(a0)))}function aT(aX){if(a.isNumeric(aX)){aX=parseInt(aX)+1}return aW.sort[aX]}function n(aY){var aX=a(document.createElement("select")).attr({id:"sortBySelect"});aX.append(a(document.createElement("option")).prop("value","sortBy").text("Sort by"));a.each(aY,function(aZ,a1){var a0=a1.id+"_"+a1.direction;aX.append(a(document.createElement("option")).prop("value",a0).text(aZ))});aX.change(function(a0){var aZ=a("select#sortBySelect>option:selected").val();if(aZ!="sortBy"){x(aW.element,V[aW.elementType].getAllDataFn(),aZ.split("_")[0],aZ.split("_")[1])}});aQ("Sort by",aX)}function O(aX){var aY=1;a.each(aX,function(aZ,a0){if(a0.isDefault){x(aW.element,V[aW.elementType].getAllDataFn(),a0.id,a0.direction);a("#sortBySelect option:eq("+aY+")").attr("selected","selected")}aY++})}function I(){a("#tariffTable thead th").each(function(aX){if(aT(aX)){ae(a(this),aX)}})}function ae(aY,aX){if(!utils.contains(aY.attr("class"),"sorting")||utils.contains(aY.attr("class"),"sortable")){return}aY.addClass("sortable").click(function(){var aZ=a("#tariffTable tbody tr").get();var a1=aY.is(".sorted-asc")?-1:1;x(a("#tariffTable tbody"),aZ,aX,a1);a("th").removeClass("sorted-asc sorted-desc");var a0=a("th").filter(":nth-child("+(aX+1)+")");a1==1?a0.addClass("sorted-asc"):a0.addClass("sorted-desc");a("td").removeClass("sorted").filter(":nth-child("+(aX+1)+")").addClass("sorted")})}function x(a0,aY,aX,aZ){o(a0,aY,aX,aZ);f(1)}function o(a0,aY,aX,aZ){a.each(aY,function(a2,a1){a1.sortKey=V[aW.elementType].extractTextFn(a1,aX)});aY.sort(function(a2,a1){var a3=aT(aX);return a3(a2.sortKey,a1.sortKey,aZ)});a.each(aY,function(a2,a1){a0.append(a1);a1.sortKey=null})}compare={sortItems:function(aX,aZ,aY){if(aY==undefined){aY=1}if(typeof aZ=="string"){aZ=compare[aZ]}aX.sort(function(a1,a0){return aZ(a1,a0,aY)});return aX},compareAmount:function(aY,aX,aZ){return compare.compare(compare.convertAmount(aY),compare.convertAmount(aX),aZ)},comparePeriod:function(aY,aX,aZ){return compare.compare(compare.convertPeriod(aY),compare.convertPeriod(aX),aZ)},compareCurrency:function(aY,aX,aZ){return compare.compare(parseFloat(utils.extractCurrencyValue(aY)),parseFloat(utils.extractCurrencyValue(aX)),aZ)},compare:function(aY,aX,aZ){if(!aZ){aZ=1}return((aY<aX)?-aZ:((aY>aX)?aZ:0))},strPad:function(aY,aX,aZ){var a0=aY.toString().trim();if(!aZ){aZ="0"}while(a0.length<aX){a0=aZ+a0}return a0},convertAmount:function(aX){var aX=aX.replace("GB","000000").replace("MB","000");if(!utils.containsNumber(aX)){aX=(aX=="Unlimited")?Number.MAX_VALUE:"0"}return compare.strPad(aX,10)},convertPeriod:function(aX){var aX=aX.toUpperCase().replace(" DAYS","").replace(" MONTHS","00");return compare.strPad(aX,10)}};utils={extractCurrencyValue:function(aY){if(aY==undefined){return""}var aX=aY.trim();if(aY.indexOf("£")!=-1){return utils.replaceAll(aX,"£","")}else{if(aX=="Free"||aX==""){return"0"}else{return aY}}},substringAfterLast:function(aY,aX){return(aY.indexOf(aX)>-1)?aY.substring(aY.lastIndexOf(aX)+1):""},contains:function(aX,aY){return(aX)&&aX.indexOf(aY)!=-1},exists:function(aX){return a(aX).length>0},now:function(){return new Date().getTime()},replaceAll:function(aX,aY,aZ){return aX.replace(new RegExp(aY,"g"),aZ)},startsWith:function(aX,aY){return aX.indexOf(aY)==0},containsNumber:function(aX){return/\d/.test(aX)},isAlphaNumeric:function(aX){return(aX.match(/^[0-9a-zA-Z ]+$/))?true:false},substringBeforeFirst:function(aZ,aY){var aX=aZ.indexOf(aY);return(aX>-1)?aZ.substring(0,aX):aZ}};var y={"default":compare.compare,amount:compare.compareAmount,currency:compare.compareCurrency,period:compare.comparePeriod};var ad={select:m,multiSelect:D,checkboxes:aq,min:U,max:av,minMax:e,minWithBanding:af,maxWithBanding:aA,rangeBanding:M};var V={TABLE:{getAllDataFn:b,getAllDataForGivenIdFn:ak,extractTextFn:q},UL:{getAllDataFn:aP,getAllDataForGivenIdFn:A,extractTextFn:ab}};if(methods[v]){return methods[v].apply(this,Array.prototype.slice.call(arguments,1))}else{if(utils[v]){return utils[v].apply(this,Array.prototype.slice.call(arguments,1))}else{if(compare[v]){return compare[v].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof v==="object"||!v){return methods.init.apply(this,arguments)}else{a.error("No such method: "+v)}}}}}})(jQuery);