/*! http://www.datafilters.info/license.txt */
if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!window.console){console={log:function(a){}}}(function(a){a.fn.DataFilter=function(s,at){var a2=a.extend({filters:{},useFreeTextSearch:false,freeTextSearchHeading:"Search",scrollToEnabled:false,scrollToAnimationEnabled:true,useShowResultsButton:false,useApplyButton:false,pageSize:-1,maxPagingNumbers:10,sortingDropDown:undefined,sortingDropDownHeading:"Sort by",applyTableSorting:true,defaultTableSort:undefined,slidersEnabled:true,multiSelectLabel:"Select to add",itemsLabel:"items",itemLabel:"item",noResultsHtml:"<p>No matching items, please modify your search criteria</p>",disableIfSlow:false,slowTimeMs:1000,useLoadingOverlayOnFilterIfSlow:true,disableFreeTextIfSlow:false,useLoadingOverlayOnFilter:false,loadingOverlayLoadingText:"Loading...",loadingOverlayLoadingImage:undefined,loadingMinTime:300,useLoadingOverlayOnStartUp:false,hideSingleItem:false,logTiming:false,extractTextFn:function(bd){return bd.text()},freeTextSearchExtractTextFn:function(bd){return bd.text()},onSuccess:function(){},onSlow:function(bd){utils.log("Too slow to create filters - "+bd+"ms, max allowed is "+a2.slowTimeMs+"ms")},afterFilter:function(){},logFn:function(bd){console.log(bd)}},at);var bc={element:a(this),elementId:a(this).attr("id"),elementType:a(this).prop("tagName"),aliases:{},filtersInitialised:false,initialised:false,sort:{},extractText:{},paging:{currentPage:1,itemsPerPage:-1,defaultItemsPerPage:Number.MAX_VALUE,totalItems:0,numMatchedItems:0},wrapper:a(document.createElement("div")).attr("class","filterWrapper"),nonExactMatch:[]};methods={init:function(){if(bf()){utils.wrapFunctionWithLoading(ag,a2.useLoadingOverlayOnStartUp);return this}else{utils.log("Invalid use of DataFilter - check above log messages")}function bf(){var bg=true;if(a("#filters").length==0){bg=bd("No element with id 'filters'")}if(a(".paginationHolder").length==0){be("No .paginationHolder class elements for paging - paging will be disabled");a2.pageSize=-1}return bg}function bd(bg){utils.log(bg);return false}function be(bg){utils.log(bg)}}};function ag(){var bh=utils.now();if(a2.useFreeTextSearch){ac()}for(var be=0;be<a2.filters.length;be++){var bf=a2.filters[be];aY(bf)}if(a2.sortingDropDown!=undefined){k(a2.sortingDropDown)}var bd=ap("doInt>created",bh);var bg=bd>a2.slowTimeMs;if(a2.disableIfSlow&&bg){a2.onSlow(bd)}else{if(bg){aR()}aP();ap("doInt>applied",bh);q();ap("doInt>sorting",bh);S();ap("doInt>no results",bh);ai();ap("doInt>modal div",bh);x(a2.pageSize);ap("doInt>ready",bh);a2.onSuccess();ap("doInt>success",bh)}ap("doInt>initialised",bh)}function ap(be,bf){var bd=utils.now()-bf;if(a2.logTiming){utils.log(be+":"+bd)}return bd}function aR(){if(a2.useLoadingOverlayOnFilterIfSlow){a2.useLoadingOverlayOnFilter=true;a2.animationEnabled=false}if(a2.disableFreeTextIfSlow){a("freeTextSearch").remove()}}function S(){if(!utils.exists("#noFilterResults")){bc.element.after(a("<div/>").attr("id","noFilterResults").html(a2.noResultsHtml).hide())}}function ai(){if((a2.useLoadingOverlayOnFilter||a2.useLoadingOverlayOnStartUp||a2.useLoadingOverlayOnFilterIfSlow)&&!utils.exists(a("#dataFiltersModal"))){var bd=a("<div/>").attr({id:"dataFiltersModal","class":"overlay"});if(!a2.loadingOverlayLoadingImage){bd.append(a("<p/>").prop("class","overlay").text(a2.loadingOverlayLoadingText))}a("body").append(bd);a("<style type='text/css'> #dataFiltersModal, #dataFiltersModal p {    display:    none;    position:   fixed;    z-index:    1000;    top:        0;    left:       0;    height:     100%;    width:      100%;    opacity: 	 0.85;	 -ms-filter: 'progid:DXImageTransform.Microsoft.Alpha(Opacity=85)';	 filter:     alpha(opacity=85);    background:  white 50% 50% no-repeat;"+((a2.loadingOverlayLoadingImage)?"background-image: url("+a2.loadingOverlayLoadingImage+")":"")+"}#dataFiltersModal p {    position: relative;    color: black;    top: 45%;    text-align: center;}body.loading {    overflow: hidden;}body.loading #dataFiltersModal, #dataFiltersModal p {    display: block;}â€‹ </style>").appendTo("head")}}function aP(){a("#filters").empty();a("#filters").append(bc.wrapper)}function q(){if(bc.elementType=="TABLE"&&a2.applyTableSorting){aJ()}if(a2.sortingDropDown!=undefined){R(a2.sortingDropDown)}}function aY(bg){var bn=bg.heading;var bl=bg.headingHtml;var be=bg.id;var bk=bg.dataType;var bd=bg.filterType;var bi=bg.alias;var bj=bg.items;var bm=bg.hideSingleItem;var bf=bg.extractTextFn;bc.filtersInitialised=false;sortFn=v[bk];bc.sort[be]=sortFn;if(bf){bc.extractText[be]=bf}if(bd=="sortOnly"){return}bc.aliases[be]=bi;factoryFn=am[bd];if(bn&&be&&factoryFn&&sortFn){if(bj==undefined){var bh=ab[bc.elementType].getAllDataForGivenIdFn(be);bj=L(bh,sortFn,be)}else{a5(bj,be)}if(P(bj,be,bn,bm)){U(be,bn,bl,factoryFn,bj)}}else{utils.log("Can not create filter for id '"+be+"' so '"+bn+"' with filterType '"+bd+"' and dataType '"+bk+"' not added as a filter")}}function a5(bd,bg){for(var bf=0;bf<bd.length;bf++){if(utils.startsWith(bd[bf],"~")){var be=bd[bf].substring(1);bd[bf]=be;bc.nonExactMatch.push(bg+"_"+be)}}}function P(be,bh,bf,bg){if(be.length==0){utils.log("No items found for id '"+bh+"' so '"+bf+"' not added as a filter");return false}if(be.length==1){var bd=(bg!=undefined)?!bg:!a2.hideSingleItem;if(!bd){utils.log("Only 1 item found for id '"+bh+"' so '"+bf+"' not added as a filter");return false}}return true}function x(be){bc.filtersInitialised=true;bc.paging.defaultItemsPerPage=be;f(1,be);if(a2.useApplyButton){V("Apply Filters","applyFilter",J)}else{if(a2.useShowResultsButton){V("Show Results","showResults",function(){i(true)})}}if(a2.defaultTableSort){var bd=a("#"+bc.elementId+" thead th:nth-child("+a2.defaultTableSort.id+")");bd.click();if(a2.defaultTableSort.direction&&a2.defaultTableSort.direction=="-1"){bd.click()}}setTimeout(function(){bc.initialised=true},1)}function V(bf,bg,be){var bd=a("<button/>").attr({type:"button",id:bg,"class":"btn-style"}).click(function(){be()}).text(bf);if(bg=="applyFilter"){bc.wrapper.append(a("<div/>").attr({"class":"applyBtnDiv"}).append(bd))}else{bc.wrapper.append(a("<div/>").append(bd))}}function L(bg,bf,be){var bd=[];bg.each(function(){var bh=r(a(this),be).trim();if(bh.length>0&&!utils.inArrayIgnoreCase(bh,bd)){bd.push(bh)}});compare.sortItems(bd,bf);return bd}function b(){return a("#"+bc.elementId+" tbody tr")}function a3(){return a("ul#"+bc.elementId+">li")}function av(bd){return a("#"+bc.elementId+" tbody tr td:nth-child("+bd+")")}function y(bd){return a("ul#"+bc.elementId+">li ."+bd)}function n(be,bd){return r(a(be).children("td").eq(bd),bd)}function ak(be,bd){return r(a(be).find("."+bd),bd)}function r(be,bd){return(bc.extractText[bd])?bc.extractText[bd](be):a2.extractTextFn(be)}function f(bd,be){if(bd){bc.paging.currentPage=bd}if(bc.paging.currentPage<=0){bc.paging.currentPage=1}if(be){bc.paging.itemsPerPage=parseInt(be)}if(bc.paging.itemsPerPage<=0){bc.paging.itemsPerPage=Number.MAX_VALUE}aS()}function aM(){if(!a2.useApplyButton){J()}}function J(){bc.paging.currentPage=1;aS()}function aS(){utils.wrapFunctionWithLoading(function(){aG()},a2.useLoadingOverlayOnFilter&&bc.filtersInitialised)}function aG(){if(!bc.filtersInitialised){return}var bf=utils.now();var bd={};a('#filters [data-role="filterSetSelector"]').each(function(){var bh=this.id.split("_")[0];var bg=this.id.split("_")[1];switch(bh){case"Select":aB(bd,bg,ae(this.id));break;case"MultiSelect":aB(bd,bg,h(this.id));break;case"Checkboxes":aB(bd,bg,a6(this.id));break;case"CheckboxesRange":aE(bd,bg);break;case"Max":aB(bd,bg,t(this.id));break;case"Min":aB(bd,bg,aQ(this.id));break;case"freeTextSearch":aB(bd,bg,aU(this.id));break}});ap("doShowRows>searches",bf);aX(o,bd);ap("doShowRows>filterRows",bf);aN();ap("doShowRows>createPagination",bf);aq();ap("doShowRows>scrollToResults",bf);Y();ap("doShowRows>checkForNoResults",bf);var be=X(bd);ap("doShowRows>udateUriHash",bf);a2.afterFilter(be);ap("doShowRows>afterFilter",bf)}function X(bd){if(bc.paging.itemsPerPage<=0||bc.paging.itemsPerPage==Number.MAX_VALUE){aB(bd,"showAll","true")}else{aB(bd,"page",bc.paging.currentPage+"")}aB(bd,"freeTextSearch",B());var be="";a.each(bd,function(bg,bf){a.each(bf,function(bi,bh){bh=w(bh);if(bh.length>0){var bj=bh.split("|");a.each(bj,function(bl,bk){if(be.length>0){be+="&"}be+=utils.getIdAlias(bg)+"="+bk})}})});return utils.replaceAll(be," ","+")}function w(bd){var be=bd.replace("Show All","").replace("--MAX--_","to_").replace("--MIN--_","from_").replace("--RANGE--_","range_");be=utils.replaceAll(be,"\\\\b","");return(utils.endsWith(be,"_"))?"":be}function O(){a("body").addClass("loading");if(navigator.userAgent.match(/(iPhone|iPod|MSIE)/i)){a("#dataFiltersModal").css("postion","absolute").css("top",((-(a("html").offset().top))+25)+"px")}}function bb(){a("body").removeClass("loading")}function aq(){if(a2.scrollToEnabled&&bc.initialised){i(a2.useApplyButton||a2.useShowResultsButton)}}function i(be){var bd=utils.exists(a("#scrollTo"))?a("#scrollTo"):utils.exists(a(".paginationHolder"))?a(".paginationHolder").eq(0):bc.element;if(be||(al()>bd.offset().top)){if(a2.scrollToAnimationEnabled){a("html, body").animate({scrollTop:bd.offset().top},300)}else{a("html, body").scrollTop(bd.offset().top)}}}function al(){return(-a("html, body").offset().top>a("html, body").scrollTop())?-a("html, body").offset().top:a("html, body").scrollTop()}function aB(bf,be,bd){if(bf[be]){bf[be].push(bd)}else{bf[be]=[bd]}}function aX(bg,be){var bd=0;bc.paging.totalItems=0;bc.paging.numMatchedItems=0;var bf=ab[bc.elementType].getAllDataFn();bf.each(function(){var bh=bg(this,be);bc.paging.totalItems++;if(bh){if(aK(bd)){a(this).attr("showHide","show");bd++}else{a(this).attr("showHide","hide")}bc.paging.numMatchedItems++}else{a(this).attr("showHide","hide")}});a(bc.element).find('[showHide="hide"]').hide();a(bc.element).find('[showHide="show"]').show();setTimeout(function(){Q()},1)}function Q(){a(bc.element).find('[showHide="show"]').hide().show()}function Y(){if(bc.paging.numMatchedItems==0){a("#noFilterResults").show();a(".paginationHolder").hide()}else{if(bc.paging.numMatchedItems>0){a("#noFilterResults").hide();a(".paginationHolder").show()}}}function aK(bd){return bc.paging.numMatchedItems>=(bc.paging.currentPage-1)*bc.paging.itemsPerPage&&bd<bc.paging.itemsPerPage}function o(bg,bf,be){var bd=true;a.each(bf,function(bh,bi){if(bc.elementType=="TABLE"){bh=parseInt(bh)-1}a.each(bi,function(bj){if(bd){bd=E(bg,bh,bi[bj])}});if(!bd){return false}});if(B()!=""&&bd){bd=af(a2.freeTextSearchExtractTextFn(a(bg)),aH(a("#freeTextSearch").val().trim()))}return bd}function B(){return(a2.useFreeTextSearch)?a("#freeTextSearch").val().trim():""}function aH(bg){var be="";var bf=bg.split(" ");for(var bd=0;bd<bf.length;bd++){be+="(?=.*"+bf[bd]+")"}return be}function E(bg,bd,bf){var be=ab[bc.elementType].extractTextFn(bg,bd);if(utils.startsWith(bf,"--MAX--")||utils.startsWith(bf,"--MIN--")){return aF(bd,be,bf)}else{if(utils.startsWith(bf,"--RANGE--")){return e(bd,be,bf)}else{return af(be,bf)}}}function af(be,bd){be=utils.convertToSingleLine(be);return be.search(new RegExp(bd,"i"))>-1}function e(be,bh,bd){var bi=false;var bg=bd.split("--RANGE--_");for(var bf=0;bf<bg.length;bf++){if(bg[bf].trim().length>0){bi=bi||a7(be,bh,bg[bf])}}return bi}function a7(bg,bh,bf){bf=utils.replaceAll(bf,"up to ","Â£0 - ");var be=bf.split(" - ");if(be.length==1){be[1]=be[0]}var bi=a8(bg);var bd=bi(be[0],bh,-1)>=0&&bi(be[1],bh,1)>=0;return bd}function aF(be,bh,bg){var bf=bg.split("_")[1];var bj=a8(be);var bi=utils.contains(bg,"--MAX--_")?1:-1;var bd=(bf=="Show All")?true:bj(bf,bh,bi)>=0;return bd}function aU(bd){return aH(a("#"+bd).val().trim())}function au(bd){return[t("Max_"+bd),aQ("Min_"+bd)]}function t(bd){return aI(bd,"--MAX--_")}function aQ(bd){return aI(bd,"--MIN--_")}function aI(be,bd){return bd+a("select#"+be+">option:selected").val()}function ae(bd){return a("select#"+bd+" option:selected").prop("value")}function h(be){var bd="";be=be.split("_")[1];a("#MultiSelectItems_"+be+" p").each(function(){bd+=aW(bd,a(this).text(),be)});return bd}function a6(bf){var be="";var bd=bf.split("_")[1];a("ul#"+bf+" li input[type=checkbox]").each(function(){if(a(this).prop("checked")&&a(this).prop("name")!="All"){be+=aW(be,a(this).prop("name"),bd)}});return be}function aE(bf,bd){var be="";a("ul#CheckboxesRange_"+bd+" li input[type=checkbox]").each(function(){if(a(this).prop("checked")&&a(this).prop("name")!="All"){be+="--RANGE--_"+a(this).parent().text()}});aB(bf,bd,be)}function aW(bd,bf,bg){bf=utils.escapeRegex(bf);var be=K(bf,bg);return(bd==""?be:"|"+be)}function K(be,bf){var bd=a.inArray(bf+"_"+be,bc.nonExactMatch)>-1;return(bd)?be:M(be)}function M(bd){if(utils.startsAndEndsWithWordCharacter(bd)){return"\\b"+utils.extractCurrencyValue(bd)+"\\b"}else{return bd}}function U(bf,bh,bd,bg,be){a4(bh,bd,bg(be,bf))}function a4(bh,be,bg,bf){var bd=a("<div/>").attr({"class":"filterSet"});bd.append(a("<a/>").attr({"class":"filterSelect"}).text(bh));if(be){bd.append(a("<span/>").attr({"class":"filterSelectInfo"}).html(be))}bd.append(a0(bg));if(bf){bc.wrapper.prepend(bd)}else{bc.wrapper.append(bd)}}function a0(be,bd){return be.attr({id:bd,"class":"filterContent"})}function ac(){a4(a2.freeTextSearchHeading,undefined,a("<div>").append(ah()))}function ah(bg){var bd="freeTextSearch";if(bg){bd+="_"+bg}var be=a("<input/>").attr({type:"search",id:bd,placeholder:"type to search"});var bf=utils.getHashParameter("search");if(bf){be.val(bf)}be.keyup(function(){J()}).click(function(){J()});return be}function C(bd,be){return ah(be).attr({"data-role":"filterSetSelector"})}function aL(bd,be){return aD(z(bd),be)}function ao(bd,bf){var be=aZ(z(bd));return aa(be,bf)}function N(bd,bf){var be=z(bd);var bj=[];for(var bg=0;bg<be.length;bg++){if(bg==0){if(be[bg].toLowerCase()=="free"){bj.push(be[bg])}else{bj.push("up to "+be[bg])}}else{bj.push(be[bg-1]+" - "+be[bg])}}var bi=utils.now();var bh=az(bf,bd,bj);return aA(bh,bf,"Range")}function aZ(bd){if(bd.length>1){bd.pop()}return bd}function az(bf,be,bi){var bh=[];var bd=bi[0];for(var bg=0;bg<bi.length;bg++){if(aj(bf,bi[bg],be)==-1){if(bg<bi.length-1){bd=bd.split(" - ")[0]+" - "+bi[bg+1].split(" - ")[1]}}else{if(utils.startsWith(bd,"Free -")){bd=bd.replace("Free -","up to ")}bh.push(bd);if(bg<bi.length-1){bd=bi[bg+1]}}}return bh}function aj(bg,be,bd){if(bc.elementType=="TABLE"){bg=parseInt(bg)-1}for(var bf=0;bf<bd.length;bf++){if(a7(bg,bd[bf],be)){return bf}}return -1}function z(bj){var bk=utils.extractCurrencyValue(bj[0]);var bf=utils.extractCurrencyValue(bj[bj.length-1]);var bh=parseInt(bf)-parseInt(bk);var be=10;if(bh>1750){be=500}else{if(bh>900){be=250}else{if(bh>350){be=100}else{if(bh>175){be=50}else{if(bh>75){be=25}else{if(bh>60){be=20}}}}}}var bd=((bj.length==1)?1:parseInt(bh/be)+1);var bl=(bk-(bk%be))+be;if((bd-1)*be+bl<bf){bd++}var bi=[];if(bk==0){bi.push("Free")}if(bd>1||bi.length==0){for(var bg=0;bg<bd;bg++){bi.push("Â£"+(bl+bg*be))}}return bi}function ad(bd,be){return d(z(bd),be)}function d(bd,bg){var be=a("<ul/>").attr({id:"MaxMin_"+bg,"class":"MaxMin"});be.append(H(ay(bg,"Min","From: ").addClass("forSlider"),aw(bd,bg,"Min",aC("Min",bg)).addClass("forSlider")));be.append(H(ay(bg,"Max","Up to: ").addClass("forSlider"),aw(bd,bg,"Max",aC("Max",bg)).addClass("forSlider")));var bf=a("<div/>");ba(bf,bd,bg,"MaxMin");bf.append(be);return bf}function H(be,bd){return a("<li/>").append(be).append(bd)}function aD(bd,be){return ar(bd,be,"Max","Up to: ")}function aa(bd,be){return ar(bd,be,"Min","From: ")}function ar(be,bh,bf,bd){var bg=a("<div/>");ba(bg,be,bh,bf);bg.append(ay(bh,bf,bd).addClass("forSlider"));bg.append(aw(be,bh,bf,aC(bf,bh)).addClass("forSlider"));return bg}function aC(be,bf){return function bd(bg){aT(bf,bg.value);a9(be+"_"+bf,bg.selectedIndex)}}function D(bf,bj){function bi(bk){if(bk.value!=a2.multiSelectLabel){var bm=a(bk).parent().find(".multiSelect");var bn=bm.attr("id")+"_"+bk.selectedIndex;if(a("#"+bn).length==0&&bk.selectedIndex>0){var bl=a("<p/>").text(bk.value).attr("id",bn);a(bm).append(bl.click(function(){a(this).remove();bk.selectedIndex=0;aM()}))}bk.selectedIndex=0}}function be(bk){if(bk.selectedIndex!=0){bk.selectedIndex=0}}var bh=a("<div/>");var bd=aw(bf,bj,"MultiSelect",bi,be);bh.append(bd);var bg=a("<div/>").attr({id:"MultiSelectItems_"+bj,"class":"multiSelect"});bh.append(bg);I(bd,bj);return bh}function I(bd,be){a.each(bd.children(),function(){if(utils.locationHashContainsParam(be,a(this).prop("value"))){a(this).prop("selected","selected");bd.change()}})}function A(bd){var be=bd.val();bd.html(a("option",bd).sort(function(bg,bf){if(bg.text==a2.multiSelectLabel){return -1}if(bf.text==a2.multiSelectLabel){return 1}return bg.text==bf.text?0:bg.text<bf.text?-1:1}));bd.val(be)}function j(bd,bf){var be=a("<div/>");be.append(aw(bd,bf,"Select"));return be}function aw(bf,bg,bi,bh,be){if(bi==undefined){bi="Select"}var bk=bi+"_"+bg;var bd=a("<select/>").attr({id:bk,"data-role":"filterSetSelector"});if(bi=="Min"){bd.append(a("<option/>").text("Show All"))}if(bi=="Select"){bd.append(a("<option/>").text("All").prop("value",""))}if(bi=="MultiSelect"){bd.append(a("<option/>").text(a2.multiSelectLabel).prop("value",""))}var bj=false;a.each(bf,function(bn,bm){var bl=a("<option/>").prop("value",bm).text(bm);bd.append(bl);if(utils.locationHashContainsParam(bg,bm)){bl.prop("selected","selected");bj=true}});bd.change(function(bl){if(bh){bh(this)}aM()});if(be!=undefined){bd.blur(function(bl){be(this)})}if(bi=="Max"){bd.append(a("<option/>").attr({selected:!bj}).text("Show All"))}return bd}function ay(bf,be,bd){return a("<label/>").attr({id:"selectLabel_"+be+"_"+bf,"class":"selectLabel"}).text(bd)}function ba(bj,bd,bi,bf){if(!a2.slidersEnabled){return bj}bi=bf+"_"+bi;var be=(bf=="MaxMin")?2:1;var bh=a("<div/>").attr({id:"slider_"+bi,"class":"noUiSlider"});bh.noUiSlider("init",{handles:be,scale:[0,bd.length],start:[0,bd.length],change:function(){var bk=a(this).noUiSlider("value");G(bi,bk);aT(bi,T(bi,bk))},end:function(){aM()}});var bg=a("<div/>").attr({id:"sliderLabel_"+bi,"class":"noUiSliderLabel"}).text("-");bj.append(bg);bj.append(bh);if(bf=="Min"){setTimeout(function(){a9(bi,0)},0)}if(bf=="Max"){setTimeout(function(){a9(bi,bd.length)},0)}if(bf=="MaxMin"){setTimeout(function(){a9(bi,bd.length)},0)}return bj}function G(be,bd){if(utils.contains(be,"MaxMin")){be=be.split("_")[1];a("select#Min_"+be+" option:eq("+bd[0]+")").attr("selected","selected");a("select#Max_"+be+" option:eq("+bd[1]+")").attr("selected","selected")}else{a("select#"+be+" option:eq("+bd[1]+")").attr("selected","selected")}}function T(bh,bd){if(utils.contains(bh,"MaxMin")){bh=bh.split("_")[1];var bg=a("select#Min_"+bh+" option:eq("+bd[0]+")").text().trim();var bf=a("select#Max_"+bh+" option:eq("+bd[1]+")").text().trim();return F(bg,bf)}else{var be=a("select#"+bh+" option:eq("+bd[1]+")").text();var bg=(utils.contains(bh,"Max"))?"Show All":be;var bf=(utils.contains(bh,"Min"))?"Show All":be;return F(bg,bf)}}function F(be,bd){if(be=="Show All"&&bd=="Show All"){return"Show All"}else{if(bd=="Show All"){return"From "+be}else{if(be=="Show All"){return"Up to "+bd}else{return be+" to "+bd}}}}function aT(be,bd){if(utils.exists("#sliderLabel_"+be)){a("#sliderLabel_"+be).text(bd)}}function a9(bf,be){if(utils.exists("#slider_"+bf)){var bd=(utils.contains(bf,"MaxMin"))?"1":"0";a("#slider_"+bf).noUiSlider("move",{knob:bd,to:be,surpressChange:true})}else{var bd=(utils.contains(bf,"Max"))?"1":"0";bf=bf.split("_")[1];if(utils.exists("#slider_MaxMin_"+bf)){a("#slider_MaxMin_"+bf).noUiSlider("move",{knob:bd,to:be,surpressChange:true})}}}function aA(bd,be,bg){var bi=(bg)?"Checkboxes"+bg+"_"+be:"Checkboxes_"+be;var bf=a("<ul/>").attr({id:bi,"data-role":"filterSetSelector"});var bh=false;a.each(bd,function(bl,bk){var bj=utils.locationHashContainsParam(be,bk);bh=bh||bj;bf.append(aO(bk,bi,bj,function(bm){Z(bi,false);aM()}))});bf.prepend(aO("All",be,!bh,function(){a.each(a("ul#"+bi+' input[type="checkbox"]'),function(bj,bk){Z(bi,true);if(bj>0){a(bk).prop("checked",false)}});aM()}));return bf}function Z(be,bd){if(a("ul#"+be+' input[type="checkbox"]:checked').length==0){bd=true}a("ul#"+be+' input[type="checkbox"]').eq(0).prop("checked",bd)}function aO(bf,bd,be,bg){return a("<li/>").attr({"class":"checkboxLi"}).append(m(bf).prepend(ax(bf,bd,be,bg)))}function ax(bf,bd,be,bg){return a("<input/>").attr({id:bd+"_"+bf,"class":"filterCheckbox",name:bf,value:bf,type:"checkbox",checked:be}).click(bg)}function m(bd){bd=utils.startsWith(bd,"~")?bd.substring(1):bd;return a("<label/>").text(bd)}function aN(){a(".paginationHolder").each(function(){a(this).empty().append(c())})}function c(){var bd=W();if(a2.pageSize>0&&bc.paging.numMatchedItems>bc.paging.itemsPerPage){a1(bd)}if(a2.pageSize>0){aV(bd)}return bd}function W(){var bg=((bc.paging.currentPage-1)*bc.paging.itemsPerPage)+1;var bf=((bc.paging.currentPage)*bc.paging.itemsPerPage);if(bf>bc.paging.numMatchedItems){bf=bc.paging.numMatchedItems}var bd=a("<ul/>").attr({"class":"pagination"});var be="Showing ";if(a2.pageSize>0){be+=bg+" - "+bf+" of "}be+=bc.paging.numMatchedItems+" "+((bc.paging.numMatchedItems==1)?a2.itemLabel:a2.itemsLabel);if(bc.paging.numMatchedItems<bc.paging.totalItems){be+="<span class='totalItems'> (filtered from "+bc.paging.totalItems+")</span>"}return bd.append(a("<li/>").attr({"class":"showing"}).html(be))}function aV(bd){if(bc.paging.numMatchedItems>bc.paging.itemsPerPage){p(bd,"Show All",1,-1)}else{if(bc.paging.defaultItemsPerPage>0&&bc.paging.itemsPerPage>bc.paging.defaultItemsPerPage){p(bd,"First Page",1,bc.paging.defaultItemsPerPage)}}}function a1(bj){var bi=parseInt(bc.paging.currentPage);var bd=parseInt((bc.paging.numMatchedItems/bc.paging.itemsPerPage)+((bc.paging.numMatchedItems%bc.paging.itemsPerPage>0)?1:0));var be=(bi>1)?bi-1:1;var bh=(bi<bd)?bi+1:bd;if(bh>bd){bh=bd}g(bj,"&laquo;","Skip to first page",1);g(bj,"&lsaquo;","Skip to previous page",be);var bm=Math.floor(a2.maxPagingNumbers/2);var bl=(bd>a2.maxPagingNumbers&&bi>bm)?bi-bm:1;var bg=(bd>a2.maxPagingNumbers)?Math.min(a2.maxPagingNumbers-1+bl,bd):bd;if(bg-bl<a2.maxPagingNumbers&&bl>1){bl=Math.max(bg-a2.maxPagingNumbers,1)}for(var bf=bl;bf<=bg;bf++){var bk=a("<li/>").addClass("pageNumber");if(bf==bi){bk.addClass("active")}bj.append(bk.append(a("<a/>").text(bf).click(function(bn){f(a(this).text());i()})))}g(bj,"&rsaquo;","Skip to next page",bh);g(bj,"&raquo;","Skip to last page",bd)}function p(be,bg,bf,bd){be.append(a("<li/>").append(a("<a/>").addClass("pagingShow").text(bg).click(function(bh){f(bf,bd);i()})))}function g(be,bg,bd,bf){be.append(a("<li/>").prop("class","pageNumber").append(a("<a/>").click(function(bh){f(bf);i()}).html(bg)))}function a8(bd){if(a.isNumeric(bd)){bd=parseInt(bd)+1}return bc.sort[bd]}function k(be){var bd=a("<select/>").attr({id:"sortBySelect"});bd.append(a("<option/>").prop("value","sortBy").text("Sort by"));for(var bf=0;bf<be.length;bf++){var bh=be[bf];if(bc.sort[bh.id]!=undefined){var bg=bh.id+"_"+bh.direction;bd.append(a("<option/>").prop("value",bg).text(bh.heading))}else{utils.log("Sort function not defined for id '"+bh.id+"' so not adding '"+bh.heading+"' to sorting dropdown")}}bd.change(function(bk){var bj=a("select#sortBySelect>option:selected").val();if(bj!="sortBy"){u(bc.element,ab[bc.elementType].getAllDataFn(),bj.split("_")[0],bj.split("_")[1])}});var bi=a("<div/>").append(bd);a4(a2.sortingDropDownHeading,undefined,bi,true)}function R(bd){var be=1;a.each(bd,function(bf,bg){if(bg.isDefault){u(bc.element,ab[bc.elementType].getAllDataFn(),bg.id,bg.direction);a("#sortBySelect option:eq("+be+")").attr("selected","selected")}be++})}function aJ(){a("#tariffTable thead th").each(function(bd){if(a8(bd)){an(a(this),bd)}})}function an(be,bd){if(utils.contains(be.attr("class"),"noSorting")||utils.contains(be.attr("class"),"sortable")){return}if(be.find("a").length>0){be.find("a").click(function(){a(be).addClass("skipSorting")})}be.addClass("sortable").click(function(){if(utils.contains(be.attr("class"),"skipSorting")){a(be).removeClass("skipSorting")}else{var bf=a("#tariffTable tbody tr").get();var bh=be.is(".sorted-asc")?-1:1;u(a("#tariffTable tbody"),bf,bd,bh);a("th").removeClass("sorted-asc sorted-desc");var bg=a("th").filter(":nth-child("+(bd+1)+")");bh==1?bg.addClass("sorted-asc"):bg.addClass("sorted-desc");a("td").removeClass("sorted").filter(":nth-child("+(bd+1)+")").addClass("sorted")}})}function u(bg,be,bd,bf){l(bg,be,bd,bf);f(1)}function l(bg,be,bd,bf){a.each(be,function(bi,bh){bh.sortKey=ab[bc.elementType].extractTextFn(bh,bd)});be.sort(function(bi,bh){var bj=a8(bd);return bj(bi.sortKey,bh.sortKey,bf)});a.each(be,function(bi,bh){bg.append(bh);bh.sortKey=null})}compare={sortItems:function(bd,bf,be){if(be==undefined){be=1}if(typeof bf=="string"){bf=compare[bf]}bd.sort(function(bh,bg){return bf(bh,bg,be)});return bd},compareAmount:function(be,bd,bf){return compare.compare(compare.convertAmount(be),compare.convertAmount(bd),bf)},comparePeriod:function(be,bd,bf){return compare.compare(compare.convertPeriod(be),compare.convertPeriod(bd),bf)},compareStock:function(be,bd,bf){return compare.compare(compare.convertStock(be),compare.convertStock(bd),bf)},compareCurrency:function(be,bd,bf){return compare.compare(parseFloat(utils.extractCurrencyValue(be)),parseFloat(utils.extractCurrencyValue(bd)),bf)},compare:function(be,bd,bf){if(!bf){bf=1}return((be<bd)?-bf:((be>bd)?bf:0))},strPad:function(be,bd,bf){var bg=be.toString().trim();if(!bf){bf="0"}while(bg.length<bd){bg=bf+bg}return bg},convertStock:function(bd){if(utils.startsWith(bd.toLowerCase(),"in stock")){return"000"}if(utils.startsWith(bd.toLowerCase(),"out of stock")){return"zzz"}return bd.toLowerCase()},convertAmount:function(bd){var bd=bd.replace("GB","000000").replace("MB","000");if(!utils.containsNumber(bd)){bd=(bd=="Unlimited")?Number.MAX_VALUE:"0"}return compare.strPad(bd,10)},convertPeriod:function(bd){var bd=bd.toUpperCase().replace(" DAYS","").replace(" MONTHS","00");return compare.strPad(bd,10)}};utils={inArrayIgnoreCase:function(bg,be){var bd=bg.toLowerCase();for(var bf=0;bf<be.length;bf++){if(be[bf].toLowerCase()==bd){return true}}return false},escapeRegex:function(bd){return(bd).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},startsAndEndsWithWordCharacter:function(bd){return bd.search(new RegExp("^\\w.*\\w$"))>-1},locationHashContainsParam:function(bd,bf){var bh=window.location.hash;if(bd&&bf){bh=utils.replaceAll(bh,"%20"," ");bh=utils.replaceAll(bh,"\\+"," ");bh=encodeURIComponent(bh);var bg=encodeURIComponent(utils.getIdAlias(bd)+"="+bf);var be=utils.contains(bh.toLowerCase(),bg.toLowerCase());return be}else{return false}},getIdAlias:function(bd){return(bc.aliases[bd])?bc.aliases[bd]:bd},getHashParameter:function(bd){if(bd=(new RegExp("[#&]"+encodeURIComponent(bd)+"=([^&]*)")).exec(window.location.hash)){return decodeURIComponent(bd[1])}},extractCurrencyValue:function(be){if(be==undefined){return""}var bd=be.trim().toLowerCase();if(be.indexOf("Â£")!=-1){return utils.substringAfterLast(bd,"Â£")}else{if(utils.contains(bd,"free")||bd==""){return"0"}else{return be}}},substringAfterLast:function(be,bd){return(be.indexOf(bd)>-1)?be.substring(be.lastIndexOf(bd)+bd.length):""},contains:function(bd,be){if(bd==undefined||be==undefined){return false}return bd.toLowerCase().indexOf(be.toLowerCase())!=-1},containsNumber:function(bd){return/\d/.test(bd)},exists:function(bd){return a(bd).length>0},now:function(){return new Date().getTime()},replaceAll:function(bd,be,bf){return bd.replace(new RegExp(be,"g"),bf)},convertToSingleLine:function(bd){return bd.replace(/(\r\n|\n|\r)/gm," ")},startsWith:function(bd,be){return bd.indexOf(be)==0},endsWith:function(bd,be){return bd.indexOf(be)==bd.length-be.length},isAlphaNumeric:function(bd){return(bd.match(/^[0-9a-zA-Z ]+$/))?true:false},substringBeforeFirst:function(bf,be){var bd=bf.indexOf(be);return(bd>-1)?bf.substring(0,bd):bf},log:function(bd){a2.logFn(bd)},equalsIgnoreCase:function(be,bd){return(be==undefined||bd==undefined)?false:be.toLowerCase()==bd.toLowerCase()},wrapFunctionWithLoading:function(bd,be){if(be){O();setTimeout(function(){var bh=utils.now();try{bd()}catch(bg){bb();utils.log("Error in wrapped function (message): "+bg.message);utils.log("Error in wrapped function (stack): "+bg.stack);throw bg}var bf=utils.now()-bh;if(bf<a2.loadingMinTime){setTimeout(bb,a2.loadingMinTime-bf)}else{bb()}},1)}else{bd()}}};var v={"default":compare.compare,amount:compare.compareAmount,currency:compare.compareCurrency,period:compare.comparePeriod,stock:compare.compareStock};var am={select:j,multiSelect:D,checkboxes:aA,min:aa,max:aD,minMax:d,minMaxWithBanding:ad,minWithBanding:ao,maxWithBanding:aL,rangeBanding:N,search:C};var ab={TABLE:{getAllDataFn:b,getAllDataForGivenIdFn:av,extractTextFn:n},UL:{getAllDataFn:a3,getAllDataForGivenIdFn:y,extractTextFn:ak}};if(methods[s]){return methods[s].apply(this,Array.prototype.slice.call(arguments,1))}else{if(utils[s]){return utils[s].apply(this,Array.prototype.slice.call(arguments,1))}else{if(compare[s]){return compare[s].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof s==="object"||!s){return methods.init.apply(this,arguments)}else{a.error("No such method: "+s)}}}}}})(jQuery);